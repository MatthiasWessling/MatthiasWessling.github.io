{{ define "main" }}
<div class="container">
    <article class="single-content">
        <header class="content-header">
            <h1>{{ .Title }}</h1>
            <div class="content-meta">
                <time>{{ .Date.Format "January 2, 2006" }}</time>
            </div>
        </header>

        {{ if .Params.summary }}
        <p>{{ .Params.summary }}</p>
        {{ end }}

        {{ if .Params.image }}
        {{ $media := lower (.Params.image | default "") }}
        <div class="notebook-single-media">
            {{ if or (strings.HasSuffix $media ".mp4") (strings.HasSuffix $media ".webm") (strings.HasSuffix $media ".ogg") }}
            <video controls class="notebook-video">
                <source src="{{ .Params.image }}">
                Your browser does not support the video tag.
            </video>
            {{ else }}
            <img src="{{ .Params.image }}" alt="{{ .Params.image_alt | default .Title }}" class="clickable-image">
            {{ end }}
        </div>
        {{ end }}

        {{ if .Params.notebooklm_url }}
        <p>
            <a href="{{ .Params.notebooklm_url }}" target="_blank" rel="noopener" class="read-more">Open in NotebookLM →</a>
        </p>
        {{ end }}

        <div class="single-body">
            {{ .Content }}
        </div>

        <footer class="content-footer">
            <div class="back-to-list">
                <a href="/notebooks/">← Back to all notebooks</a>
            </div>
        </footer>
    </article>
</div>
{{ end }}
